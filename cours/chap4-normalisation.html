<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Chapitre 4 - D√©pendances fonctionnelles & Normalisation</title>
  <link rel="stylesheet" href="../css/style.css" />
</head>
<body>
  <header class="topbar">
    <nav class="breadcrumb">
      <a href="../index.html" aria-label="Accueil">üè†</a>
      <span>/</span><a href="../index.html">Acad√©mie</a>
      <span>/</span><a href="index.html">Cours Bases de donn√©es</a>
      <span>/</span><span>Chapitre 4 : Normalisation</span>
    </nav>
  </header>

  <main class="layout">
    <article class="content">
      <div class="meta">
        <span>Temps de lecture approximative :</span>
        <span class="badge" id="readingTime">‚Äî</span>
      </div>

      <h1 id="chap4">Chapitre 4 : D√©pendances Fonctionnelles et Normalisation</h1>

      <p>
        Dans ce chapitre, tu vas apprendre √† d√©finir les <strong>d√©pendances fonctionnelles (DF)</strong>,
        calculer une <strong>fermeture</strong> (<code>X+</code>), trouver les <strong>cl√©s candidates</strong>,
        construire une <strong>couverture minimale</strong>, v√©rifier les <strong>formes normales</strong>
        (1FN, 2FN, 3FN, BCNF) et r√©aliser une <strong>d√©composition</strong> (sans perte + pr√©servation des DF).
      </p>

      <div class="callout good">
        <strong>Objectifs</strong><br/>
        Identifier des DF, calculer <code>X+</code>, d√©terminer les cl√©s, appliquer 1FN/2FN/3FN/BCNF,
        d√©composer sans perte et v√©rifier la pr√©servation des d√©pendances.
      </div>

      <h2 id="pourquoi-normaliser">0) Pourquoi normaliser ?</h2>
      <p>
        Quand une table est mal con√ßue, on observe souvent : <strong>redondance</strong>,
        <strong>incoh√©rences</strong> et <strong>difficult√© de mise √† jour</strong>.
        La normalisation sert √† organiser les attributs en tables coh√©rentes pour √©viter les anomalies.
      </p>

      <h3 id="anomalies">0.1 Anomalies classiques</h3>
      <ul>
        <li><strong>Anomalie d‚Äôinsertion</strong> : impossible d‚Äôajouter une info sans une autre</li>
        <li><strong>Anomalie de suppression</strong> : supprimer une ligne fait perdre une info importante</li>
        <li><strong>Anomalie de mise √† jour</strong> : la m√™me info existe plusieurs fois ‚Üí incoh√©rence</li>
      </ul>

      <figure class="figure-card">
        <img src="img/chap4-anomalies.png" alt="Anomalies d'insertion, suppression et mise √† jour" />
        <figcaption>Les anomalies justifient la normalisation (r√©duction de redondance et incoh√©rences).</figcaption>
      </figure>

      <h2 id="df">1) D√©pendances Fonctionnelles (DF)</h2>

      <h3 id="df-definition">1.1 D√©finition formelle</h3>
      <p>
        Soit une relation <code>R(A1, A2, ‚Ä¶, An)</code>. Soient <code>X</code> et <code>Y</code> deux ensembles
        d‚Äôattributs de <code>R</code>. On dit que <code>X ‚Üí Y</code> si :
      </p>
      <blockquote>
        Pour tous tuples t1 et t2 de R, si t1[X] = t2[X] alors t1[Y] = t2[Y].
      </blockquote>
      <p><strong>Id√©e :</strong> m√™me X ‚áí m√™me Y.</p>

      <figure class="figure-card">
        <img src="img/chap4-dependance-fonctionnelle.png" alt="D√©finition DF X d√©termine Y" />
        <figcaption>Une DF exprime qu‚Äôun ensemble d‚Äôattributs (d√©terminant) impose la valeur d‚Äôun autre.</figcaption>
      </figure>

      <h3 id="df-reconnaitre">1.2 Reconna√Ætre une DF (r√®gle m√©tier)</h3>
      <p>Une DF correspond souvent √† une r√®gle m√©tier :</p>
      <ul>
        <li>‚ÄúChaque √©tudiant a un seul nom‚Äù ‚áí <code>NumEtudiant ‚Üí Nom</code></li>
        <li>‚ÄúChaque fili√®re a un seul nom‚Äù ‚áí <code>CodeFiliere ‚Üí NomFiliere</code></li>
        <li>‚ÄúChaque cours a un seul intitul√©‚Äù ‚áí <code>CodeCours ‚Üí Intitule</code></li>
      </ul>

      <h3 id="df-triviale">1.3 DF triviale / non triviale</h3>
      <ul>
        <li><strong>Triviale</strong> si <code>Y ‚äÜ X</code> (ex : <code>(Num, Nom) ‚Üí Nom</code>)</li>
        <li><strong>Non triviale</strong> sinon (ex : <code>Num ‚Üí Nom</code>)</li>
      </ul>

      <h3 id="df-partielle-complete-transitive">1.4 DF partielle / compl√®te / transitive</h3>

      <h4 id="df-partielle">A) D√©pendance partielle (probl√®me de 2FN)</h4>
      <p>
        Quand la cl√© est <strong>compos√©e</strong>, un attribut non-cl√© ne doit pas d√©pendre d‚Äôune partie seulement.
      </p>
      <p>
        Exemple : <code>R(NumEtu, CodeCours, NomEtu, Note)</code> avec cl√© <code>(NumEtu, CodeCours)</code><br/>
        Si <code>NumEtu ‚Üí NomEtu</code>, alors <code>NomEtu</code> d√©pend partiellement.
      </p>

      <figure class="figure-card">
        <img src="img/chap4-2nf-dependance-partielle.png" alt="D√©pendance partielle (2FN)" />
        <figcaption>D√©pendance partielle : un attribut d√©pend d‚Äôune partie de la cl√© compos√©e.</figcaption>
      </figure>

      <h4 id="df-complete">B) D√©pendance compl√®te</h4>
      <p>
        L‚Äôattribut d√©pend de <strong>toute</strong> la cl√© : <code>(NumEtu, CodeCours) ‚Üí Note</code>.
      </p>

      <h4 id="df-transitive">C) D√©pendance transitive (probl√®me de 3FN)</h4>
      <p>
        Si <code>NumEtu ‚Üí CodeFiliere</code> et <code>CodeFiliere ‚Üí NomFiliere</code>, alors
        <code>NumEtu ‚Üí NomFiliere</code> (transitive).
      </p>

      <figure class="figure-card">
        <img src="img/chap4-3nf-dependance-transitive.png" alt="D√©pendance transitive (3FN)" />
        <figcaption>D√©pendance transitive : viole la 3FN (d√©pendance indirecte via un attribut non-cl√©).</figcaption>
      </figure>

      <h2 id="fermeture">2) Fermeture d‚Äôattributs (X<sup>+</sup>)</h2>

      <h3 id="fermeture-definition">2.1 D√©finition</h3>
      <p>
        La fermeture <code>X+</code> est l‚Äôensemble des attributs que l‚Äôon peut d√©terminer √† partir de <code>X</code>
        gr√¢ce aux DF.
      </p>
      <ul>
        <li>V√©rifier si <code>X</code> est une <strong>cl√©</strong></li>
        <li>V√©rifier si une DF est <strong>impliqu√©e</strong> par un ensemble de DF</li>
      </ul>

      <h3 id="fermeture-algo">2.2 Algorithme</h3>
      <ol>
        <li>Initialiser <code>X+ = X</code></li>
        <li>Si <code>A ‚Üí B</code> et <code>A ‚äÜ X+</code>, ajouter <code>B</code> √† <code>X+</code></li>
        <li>R√©p√©ter jusqu‚Äô√† stabilisation</li>
      </ol>

      <h3 id="fermeture-exemple">2.3 Exemple complet</h3>
      <p>R(A, B, C, D, E) avec DF :</p>
      <ol>
        <li>A ‚Üí B</li>
        <li>B ‚Üí C</li>
        <li>A, D ‚Üí E</li>
      </ol>
      <p>
        <strong>A+</strong> = {A, B, C} (D manque donc pas de E)<br/>
        <strong>(A, D)+</strong> = {A, B, C, D, E} ‚áí (A, D) est super-cl√©.
      </p>

      <h2 id="couverture-minimale">3) Couverture minimale (couverture canonique)</h2>

      <h3 id="couverture-definition">3.1 D√©finition</h3>
      <p>
        Une couverture minimale est un ensemble √©quivalent de DF mais <strong>simplifi√©</strong> :
        un seul attribut √† droite, pas d‚Äôattribut inutile √† gauche, pas de DF redondante.
      </p>

      <h3 id="couverture-etapes">3.2 √âtapes</h3>
      <ol>
        <li>D√©composer le RHS : <code>X ‚Üí ABC</code> devient <code>X ‚Üí A</code>, <code>X ‚Üí B</code>, <code>X ‚Üí C</code></li>
        <li>Supprimer attributs inutiles √† gauche (tests via fermetures)</li>
        <li>Supprimer DF redondantes (si d√©duite des autres)</li>
      </ol>

      <h2 id="formes-normales">4) Formes normales</h2>

      <h3 id="fn-1">4.1 1FN (Premi√®re forme normale)</h3>
      <p>
        Condition : attributs <strong>atomiques</strong> (pas de listes / pas de groupes r√©p√©titifs).
      </p>
      <figure class="figure-card">
        <img src="img/chap4-1nf.png" alt="Probl√®me de 1FN : groupes r√©p√©titifs" />
        <figcaption>La 1FN interdit les groupes r√©p√©titifs (Customer1, Customer2, ‚Ä¶) et les listes.</figcaption>
      </figure>

      <h3 id="fn-2">4.2 2FN (Deuxi√®me forme normale)</h3>
      <p>
        Condition : √™tre en 1FN et aucune d√©pendance partielle d‚Äôune cl√© compos√©e.
      </p>
      <p><strong>Exemple :</strong> <code>INSCRIPTION(NumEtu, CodeCours, NomEtu, IntituleCours, Note)</code></p>
      <ul>
        <li><code>NumEtu ‚Üí NomEtu</code> (partielle)</li>
        <li><code>CodeCours ‚Üí IntituleCours</code> (partielle)</li>
        <li><code>(NumEtu, CodeCours) ‚Üí Note</code> (compl√®te)</li>
      </ul>
      <p><strong>D√©composition :</strong></p>
      <pre><code>ETUDIANT(NumEtu, NomEtu)
COURS(CodeCours, IntituleCours)
INSCRIPTION(NumEtu, CodeCours, Note)</code></pre>

      <h3 id="fn-3">4.3 3FN (Troisi√®me forme normale)</h3>
      <p>
        Condition : √™tre en 2FN et aucune d√©pendance transitive.
      </p>
      <p><strong>Exemple :</strong> <code>ETUDIANT(NumEtu, Nom, CodeFiliere, NomFiliere)</code></p>
      <p>
        <code>NumEtu ‚Üí CodeFiliere</code> et <code>CodeFiliere ‚Üí NomFiliere</code> ‚áí transitive.
      </p>
      <p><strong>D√©composition :</strong></p>
      <pre><code>ETUDIANT(NumEtu, Nom, CodeFiliere)
FILIERE(CodeFiliere, NomFiliere)</code></pre>

      <h3 id="fn-bcnf">4.4 BCNF (Boyce-Codd)</h3>
      <p>
        Condition : pour toute DF non triviale <code>X ‚Üí Y</code>, <code>X</code> doit √™tre une <strong>super-cl√©</strong>.
        BCNF est plus forte que 3FN.
      </p>
      <figure class="figure-card">
        <img src="img/chap4-bcnf.png" alt="Exemple de violation BCNF" />
        <figcaption>BCNF : tout d√©terminant (gauche) doit √™tre une super-cl√©.</figcaption>
      </figure>

      <h2 id="decomposition">5) D√©composition : sans perte & pr√©servation des DF</h2>

      <h3 id="sans-perte">5.1 D√©composition sans perte (Lossless)</h3>
      <p>
        Une d√©composition <code>R ‚Üí R1, R2</code> est sans perte si la jointure naturelle
        <code>R1 ‚ãà R2</code> redonne exactement <code>R</code>.
      </p>
      <p><strong>Condition (2 tables) :</strong> <code>(R1 ‚à© R2) ‚Üí R1</code> OU <code>(R1 ‚à© R2) ‚Üí R2</code>.</p>

      <figure class="figure-card">
        <img src="img/chap4-decomposition-sans-perte.png" alt="D√©composition sans perte" />
        <figcaption>D√©composition sans perte : la jointure restitue exactement la relation initiale.</figcaption>
      </figure>

      <h3 id="preservation-df">5.2 Pr√©servation des d√©pendances</h3>
      <p>
        Une d√©composition pr√©serve les DF si on peut v√©rifier toutes les DF en contr√¥lant seulement
        <code>R1</code> et <code>R2</code>, sans reconstruire <code>R</code>.
      </p>

      <figure class="figure-card">
        <img src="img/chap4-preservation-dependances.png" alt="Pr√©servation des d√©pendances fonctionnelles" />
        <figcaption>Pr√©servation : on peut valider les DF sur les tables d√©compos√©es sans refaire la grande table.</figcaption>
      </figure>

      <h2 id="exercice">6) Mini-exercice guid√© (corrig√©)</h2>
      <p>Soit :</p>
      <pre><code>R(NumEtu, NomEtu, CodeCours, IntituleCours, Note)</code></pre>
      <p>DF :</p>
      <ul>
        <li><code>NumEtu ‚Üí NomEtu</code></li>
        <li><code>CodeCours ‚Üí IntituleCours</code></li>
        <li><code>(NumEtu, CodeCours) ‚Üí Note</code></li>
      </ul>

      <h3 id="exercice-cle">6.1 Trouver la cl√©</h3>
      <p>
        Calculer <code>(NumEtu, CodeCours)+</code> : on obtient tous les attributs ‚áí c‚Äôest une cl√©.
      </p>

      <h3 id="exercice-2fn">6.2 V√©rifier 2FN</h3>
      <p>
        <code>NomEtu</code> d√©pend de <code>NumEtu</code> seul ‚áí d√©pendance partielle ‚áí pas 2FN.
      </p>

      <h3 id="exercice-decomposition">6.3 D√©composer</h3>
      <pre><code>ETUDIANT(NumEtu, NomEtu)
COURS(CodeCours, IntituleCours)
INSCRIPTION(NumEtu, CodeCours, Note)</code></pre>
      <p>
        R√©sultat : tables en 3FN (et souvent BCNF pour cet exemple).
      </p>

      <h2 id="mini-quiz">Mini-quiz</h2>
      <ol>
        <li>Donne un exemple de DF non triviale.</li>
        <li>√Ä quoi sert la fermeture <code>X+</code> ?</li>
        <li>Diff√©rence entre 2FN et 3FN (probl√®mes vis√©s) ?</li>
        <li>Condition d‚Äôune d√©composition sans perte (2 tables) ?</li>
        <li>Que signifie ‚Äúpr√©server les d√©pendances‚Äù ?</li>
      </ol>
    </article>

    <aside class="sidebar">
      <div class="sidebar-title">Sommaire</div>
      <nav id="toc" class="toc"></nav>
      <div class="sidebar-footer">
        <a class="pill" href="index.html">Retour au sommaire</a>
      </div>
    </aside>
  </main>

  <script src="../js/page-toc.js"></script>
</body>
</html>
